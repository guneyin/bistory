<div class="mt-2 py-4" x-data>
    <div class="overflow-x-auto font-[sans-serif]">
        <table class="min-w-full bg-white">
            <thead class="whitespace-nowrap">
            <tr>
                <th class="p-4 text-left text-sm font-semibold text-black">#</th>
                <th class="p-4 text-left text-sm font-semibold text-black">Sembol</th>
                <th class="p-4 text-left text-sm font-semibold text-black">İlk Fiyat</th>
                <th class="p-4 text-left text-sm font-semibold text-black">Son Fiyat</th>
                <th class="p-4 text-left text-sm font-semibold text-black">Getiri</th>
                <th class="p-4 text-left text-sm font-semibold text-black">Skor</th>
                <th class="p-4 text-left text-sm font-semibold text-black"></th>
            </tr>
            </thead>

            <tbody class="whitespace-nowrap">
            <template x-for="(quote, index) in $store.main.compared" :key="index">

                <tr class="odd:bg-blue-50">
                    <td class="p-4 text-sm" x-text="index+1"></td>

                    <td class="p-4 text-sm">
                        <div class="flex items-center cursor-pointer w-max">
                            <img :src="quote.icon" x-show="quote.icon !== ''"
                                 class="w-9 h-9 rounded-full shrink-0"/>
                            <div class="ml-4">
                                <p class="text-sm text-black" x-text="quote.symbol"></p>
                                <p class="text-xs text-gray-500" x-text="quote.name"></p>
                            </div>
                        </div>
                    </td>

                    <td class="p-4 text-sm">
                        <p class="text-sm text-black" x-text="quote.history.begin.price"></p>
                        <p class="text-xs text-gray-500" x-text="quote.history.begin.date"></p>
                    </td>

                    <td class="p-4 text-sm">
                        <p class="text-sm text-black" x-text="quote.history.end.price"></p>
                        <p class="text-xs text-gray-500" x-text="quote.history.end.date"></p>
                    </td>

                    <td class="p-4 text-sm">
                        <p class="text-sm text-black"
                           x-text="quote.history.change.byAmount + ' (' + quote.history.change.byRatio + '%)'"></p>
                        <p class="text-xs text-gray-500" x-text="'120 gün'"></p>
                    </td>

                    <td class="p-4 text-sm">
                        <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"
                             x-data="{get color() {return getQuoteScoreColor(quote.history.change.score)}}">
                            <div :class="color" class="h-2.5 rounded-full"
                                 :style="{width: quote.history.change.score+'%'}"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-1" x-text="'%' + quote.history.change.score"></p>
                    </td>

                    <td class="p-4">
                        <button class="mr-4" title="Delete" @click="$store.main.deleteCompared(index)">
                            <i class="bi bi-trash" style="color: red"></i>
                        </button>
                    </td>
                </tr>

            </template>
            </tbody>
        </table>
    </div>
</div>
